{
  "hooks": [
    {
      "id": "sentry-create-release",
      "name": "Create Sentry Release",
      "description": "Creates a new Sentry release, associates commits, uploads source maps, and records a deployment before the application is deployed.",
      "trigger": "pre-deploy",
      "script": "./scripts/sentry-release.sh",
      "env": {
        "SENTRY_AUTH_TOKEN": "${SENTRY_AUTH_TOKEN}",
        "SENTRY_ORG": "${SENTRY_ORG}",
        "SENTRY_PROJECT": "${SENTRY_PROJECT}",
        "SENTRY_ENVIRONMENT": "${SENTRY_ENVIRONMENT:-production}"
      },
      "timeout": 300,
      "failOnError": true,
      "conditions": {
        "branches": ["main", "master", "release/*"],
        "events": ["push", "workflow_dispatch"]
      }
    }
  ]
}
